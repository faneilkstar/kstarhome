# âœ… SECTION UE NON AFFECTÃ‰ES

## ğŸ¯ FonctionnalitÃ© AjoutÃ©e

Une **section d'alerte** affiche maintenant les UE qui n'ont **aucun enseignant affectÃ©** en haut de la page d'affectations.

---

## ğŸ“Š Interface

### Cas 1 : UE Non AffectÃ©es DÃ©tectÃ©es

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ UE sans enseignant assignÃ©                            â”‚
â”‚                                                           â”‚
â”‚ 5 UE n'ont pas encore d'enseignant affectÃ©               â”‚
â”‚                                      [ğŸ‘ï¸ Voir la liste]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Clic sur "Voir la liste" â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ UE sans enseignant assignÃ©                            â”‚
â”‚                                                           â”‚
â”‚ 5 UE n'ont pas encore d'enseignant affectÃ©               â”‚
â”‚                                      [ğŸ™ˆ Masquer]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MTH100-L1IN  â”‚  â”‚ PHY101-L1GE  â”‚  â”‚ INF200-L2IN  â”‚  â”‚
â”‚  â”‚ Math I       â”‚  â”‚ Physique I   â”‚  â”‚ Algo AvancÃ©  â”‚  â”‚
â”‚  â”‚ 3 ECTS  36h  â”‚  â”‚ 4 ECTS  48h  â”‚  â”‚ 5 ECTS  60h  â”‚  â”‚
â”‚  â”‚ [L1 Info]    â”‚  â”‚ [L1 GÃ©nie]   â”‚  â”‚ [L2 Info]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cas 2 : Toutes les UE AffectÃ©es

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Excellent ! Toutes les UE ont un enseignant assignÃ©.  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” DÃ©tection Automatique

### Logique Jinja2

```jinja2
{% set ues_non_affectees = [] %}
{% for ue in ues %}
    {% if ue.enseignants|length == 0 %}
        {% set _ = ues_non_affectees.append(ue) %}
    {% endif %}
{% endfor %}
```

**Explication** :
- Parcourt toutes les UE
- VÃ©rifie si `ue.enseignants` est vide
- Ajoute l'UE Ã  la liste `ues_non_affectees`

---

## ğŸ¨ Affichage des UE Non AffectÃ©es

### Card UE

Chaque UE non affectÃ©e est affichÃ©e dans une card jaune :

```html
<div class="card border-warning">
    <div class="card-body">
        <h6>ğŸ”µ MTH100-L1INFO</h6>
        <p>MathÃ©matiques I</p>
        <div>
            <span class="badge bg-info">3 ECTS</span>
            <span class="badge bg-secondary">36h</span>
            <span class="badge bg-warning">L1 Info</span>
        </div>
    </div>
</div>
```

**Informations affichÃ©es** :
- Code UE (avec bordure jaune)
- IntitulÃ©
- CrÃ©dits ECTS
- Volume horaire
- Classe concernÃ©e

---

## ğŸ“ˆ Statistiques AffichÃ©es

### Compteur

```
5 UE n'ont pas encore d'enseignant affectÃ©
```

**Calcul** : `{{ ues_non_affectees|length }}`

---

## ğŸ’¡ Utilisation

### Workflow Directeur

```
1. Aller sur : Directeur â†’ Affectations UE
   â†“
2. Voir en haut :
   - Alerte jaune si UE non affectÃ©es
   - Message vert si tout est OK
   â†“
3. Cliquer "Voir la liste"
   â†“
4. Liste des UE sans prof s'affiche
   â†“
5. Descendre et affecter ces UE aux enseignants
```

---

## ğŸ”„ Fonctionnement du Bouton

### JavaScript

```javascript
function toggleUENonAffectees() {
    const list = document.getElementById('liste-non-affectees');
    const icon = document.getElementById('icon-non-affectees');
    const text = document.getElementById('text-non-affectees');
    
    if (list.classList.contains('show')) {
        // Masquer
        list.classList.remove('show');
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
        text.textContent = 'Voir la liste';
    } else {
        // Afficher
        list.classList.add('show');
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
        text.textContent = 'Masquer';
    }
}
```

**Changements** :
- IcÃ´ne : ğŸ‘ï¸ (Voir) â†” ğŸ™ˆ (Masquer)
- Texte : "Voir la liste" â†” "Masquer"
- Collapse Bootstrap pour l'animation

---

## ğŸ¨ Style Visuel

### Alerte Jaune (UE non affectÃ©es)

```html
<div class="alert alert-warning shadow-sm">
    <h5>âš ï¸ UE sans enseignant assignÃ©</h5>
    <p>5 UE n'ont pas encore d'enseignant affectÃ©</p>
    <button class="btn btn-warning">Voir la liste</button>
</div>
```

### Alerte Verte (Tout OK)

```html
<div class="alert alert-success shadow-sm">
    âœ… Excellent ! Toutes les UE ont un enseignant assignÃ©.
</div>
```

### Cards UE

- **Bordure** : Jaune (warning)
- **Badges** : Info (crÃ©dits), Secondary (heures), Warning (classe)
- **Layout** : 3 colonnes sur desktop, 2 sur tablette, 1 sur mobile

---

## ğŸ“Š Exemples

### ScÃ©nario 1 : Ã‰cole avec 15 UE

```
Total UE : 15
- 12 UE affectÃ©es Ã  des enseignants
- 3 UE non affectÃ©es

Affichage :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ 3 UE sans enseignant [Voir liste] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ScÃ©nario 2 : Ã‰cole avec 20 UE

```
Total UE : 20
- 20 UE affectÃ©es

Affichage :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Toutes les UE ont un enseignant assignÃ© â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ScÃ©nario 3 : Nouvelle Ã©cole

```
Total UE : 10
- 0 UE affectÃ©es

Affichage :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ 10 UE sans enseignant [Voir liste] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Liste complÃ¨te des 10 UE affichÃ©e
```

---

## âœ… Avantages

### 1. Vue d'ensemble rapide
- Voir immÃ©diatement si des UE n'ont pas de prof
- Compteur clair du nombre d'UE concernÃ©es

### 2. Action ciblÃ©e
- Liste dÃ©taillÃ©e des UE Ã  traiter
- Informations complÃ¨tes pour chaque UE

### 3. Suivi de l'affectation
- Validation visuelle quand tout est OK
- Alerte permanente tant qu'il reste des UE

### 4. Interface propre
- Section masquÃ©e par dÃ©faut
- Clic pour afficher/masquer
- Pas de surcharge visuelle

---

## ğŸ”§ Code Technique

### Template Jinja2

**Fichier** : `app/templates/directeur/affecter_ues_enseignants.html`

```jinja2
<!-- DÃ©tection des UE non affectÃ©es -->
{% set ues_non_affectees = [] %}
{% for ue in ues %}
    {% if ue.enseignants|length == 0 %}
        {% set _ = ues_non_affectees.append(ue) %}
    {% endif %}
{% endfor %}

<!-- Affichage conditionnel -->
{% if ues_non_affectees %}
    <!-- Alerte jaune avec liste -->
{% else %}
    <!-- Message de succÃ¨s -->
{% endif %}
```

### JavaScript

```javascript
// Fonction toggle pour afficher/masquer
function toggleUENonAffectees() {
    // Toggle de la classe 'show' Bootstrap
    // Changement d'icÃ´ne et de texte
}
```

---

## ğŸ“± Responsive

### Desktop (> 992px)
- 3 cards par ligne
- Affichage cÃ´te Ã  cÃ´te

### Tablette (768px - 992px)
- 2 cards par ligne
- AdaptÃ© Ã  la largeur

### Mobile (< 768px)
- 1 card par ligne
- Pleine largeur

---

## ğŸ§ª Tests

### Test 1 : Aucune UE
```
CrÃ©er 0 UE
â†’ Pas d'alerte affichÃ©e
â†’ âœ… OK
```

### Test 2 : Toutes affectÃ©es
```
CrÃ©er 5 UE
Affecter les 5 Ã  des profs
â†’ Message vert "Toutes les UE ont un enseignant"
â†’ âœ… OK
```

### Test 3 : Certaines non affectÃ©es
```
CrÃ©er 10 UE
Affecter 7 UE
â†’ Alerte jaune "3 UE sans enseignant"
â†’ Clic "Voir liste" â†’ 3 cards affichÃ©es
â†’ âœ… OK
```

### Test 4 : Affichage dynamique
```
Ã‰tat initial : 5 UE non affectÃ©es
Affecter 1 UE
Recharger la page
â†’ "4 UE sans enseignant"
â†’ âœ… Mise Ã  jour automatique
```

---

## ğŸ“Š RÃ©sumÃ©

| FonctionnalitÃ© | Status |
|----------------|--------|
| DÃ©tection automatique UE non affectÃ©es | âœ… |
| Compteur d'UE | âœ… |
| Alerte visuelle (jaune/vert) | âœ… |
| Bouton afficher/masquer | âœ… |
| Liste dÃ©taillÃ©e des UE | âœ… |
| Cards avec infos complÃ¨tes | âœ… |
| Design responsive | âœ… |
| Animation collapse | âœ… |

---

## ğŸ¯ Impact

### Avant
- Pas de visibilitÃ© sur les UE non affectÃ©es
- Risque d'oublier des UE
- VÃ©rification manuelle nÃ©cessaire

### Maintenant
- âœ… Alerte immÃ©diate en haut de page
- âœ… Compteur prÃ©cis
- âœ… Liste dÃ©taillÃ©e accessible en 1 clic
- âœ… Validation visuelle quand tout est OK

---

**Date** : 13 FÃ©vrier 2026  
**Version** : 3.2.3  
**Status** : âœ… OPÃ‰RATIONNEL

ğŸ‰ **Section UE non affectÃ©es implÃ©mentÃ©e avec succÃ¨s !**

